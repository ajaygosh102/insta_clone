import 'package:flutter/material.dart';import 'package:flutter_bloc/flutter_bloc.dart';import 'package:riafy_flutter_app/view/bloc/home_bloc_cubit.dart';import 'package:riafy_flutter_app/view/widgets/circle_progressbar.dart';import 'file:///C:/AndroidProjects/Interview/riafy_flutter_app/lib/view/widgets/app_bar.dart';class HomePage extends StatefulWidget {  @override  _HomePageState createState() => _HomePageState();}class _HomePageState extends State<HomePage> {  HomeBlocCubit homeBlocCubit = HomeBlocCubit();  @override  void initState() {    homeBlocCubit.getHomePageData();    super.initState();  }  @override  void didChangeDependencies() {    //homeBlocCubit.getHomePageData();    super.didChangeDependencies();  }  bool isExpanded = false;  @override  Widget build(BuildContext context) {    return Scaffold(        appBar: getAppBar(context),        body: BlocBuilder(            cubit: homeBlocCubit,            builder: (context, state) {              print('home state');              print(state);              if (state is HomeDataResponse) {                print(state.homeData);                return ListView.builder(                  itemCount: state.homeData.length,                  itemBuilder: (context, index) => Padding(                    padding: const EdgeInsets.symmetric(vertical: 10),                    child: Column(                      crossAxisAlignment: CrossAxisAlignment.start,                      children: [                        Padding(                          padding: const EdgeInsets.symmetric(                              vertical: 10, horizontal: 18),                          child: Row(                            children: [                              CircleAvatar(                                radius: 16.0,                                backgroundImage: NetworkImage(                                    state.homeData[index]['low thumbnail']),                                backgroundColor: Colors.transparent,                              ),                              SizedBox(                                width: 10,                              ),                              Text(                                state.homeData[index]['channelname'],                                style: Theme.of(context).textTheme.subtitle2,                              ),                            ],                          ),                        ),                        Image.network(                          state.homeData[index]['high thumbnail'],                          fit: BoxFit.cover,                          height: 300,                        ),                        Padding(                          padding: const EdgeInsets.all(8.0),                          child: Row(                            children: [                              Expanded(                                flex: 9,                                child: Row(                                  children: [                                    Icon(Icons.favorite_border_outlined),                                    SizedBox(                                      width: 10,                                    ),                                    Icon(Icons.mode_comment_outlined),                                    SizedBox(                                      width: 10,                                    ),                                    Icon(Icons.send_outlined),                                  ],                                ),                              ),                              Expanded(                                  flex: 1,                                  child: Icon(Icons.bookmark_border_outlined)),                            ],                          ),                        ),                        Padding(                          padding: const EdgeInsets.all(8.0),                          child: Text(                            state.homeData[index]['title'],                            style: Theme.of(context).textTheme.bodyText2,                            maxLines: 1,                            overflow: TextOverflow.ellipsis,                          ),                        ),                      ],                    ),                  ),                );              } else {                return showCircleProgress();              }            }));  }}